<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>生成新数组-迭代器</title>
</head>
<body>
<script type="text/javascript">
    function curve(grade) {
        return grade += 5;
    }

    // map()类似forEach，map新生成的数组，都会对应原来数组
    // a.数字数组
    var grades = [77,65,81,92,83];
    var newgrades = grades.map(curve);

    console.log(newgrades);

    // b.字符串数组
    function first(word) {
        return word[0];
    }

    var words = ["for","your","information"];
    var acronym = words.map(first);
    console.log(acronym.join(""));
    // 注：使用join("")是为了去除","，拼接为完整的字符串


    // Filter,过滤掉元素后，生成新数组
    // 过滤奇偶数
    function isEven(num) {
        return num % 2 ==0;
    }
    
    function isOdd(num) {
        return num % 2 !=0;
    }
    var nums = [];
    for (var i = 0;i<20;++i) {
        nums[i]=i+1;
    }
    var evens = nums.filter(isEven);
    var odds = nums.filter(isOdd)
    console.log("Even numbers:")
    console.log(evens);
    console.log("Odd numbers:");
    console.log(odds);
    
    // case：

    // 1.过滤数字
    // 返回大于或等于60的数
    function passing(num) {
        return num>=60;
    }

    // 随机获取20个0~101之间的整数，向下取整>>>i.5 = i
    // Math.random()*101,取[0,101)的随机数，含小数
    // Math.floor(),取整

    var grades = [];
    for (var i=0;i<20;++i){
        grades[i] = Math.floor(Math.random()*101);
    }

    var passGrades = grades.filter(passing);
    console.log("All grade is:");
    console.log(grades);
    console.log("Passing grade:");
    console.log(passGrades);

    // 2.过滤字符串
    function afterc(str) {
        if (str.indexOf("cie")> -1){
            return true;
        }
        return false;
    }

    var words =["recieve","deceive","percieve","deceit","concieve"];
    var misspelled = words.filter(afterc);
    console.log(misspelled);
</script>

</body>
</html>